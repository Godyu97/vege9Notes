------

[TOC]

------

## CSS布局

### CSS布局的三种机制

> * 网页布局的核心——就是**用CSS来摆放盒子**。
>
> * CSS 提供了3种机制来设置盒子的摆放位置，分别是**普通流（标准流）**、**浮动**和**定位**

1. **普通流（标准流）**

   - 块级元素会独占一行，从上向下顺序排列；
     - 常用元素：div、hr、p、h1~h6、ul、ol、dl、form、table

   - 行内元素会按照顺序，从左到右顺序排列，碰到父元素边缘则自动换行；
     - 常用元素：span、a、i、em等

   - 行内块元素之间有默认空隙，无法做到横向无缝排列，且会自动换行
2. **浮动**

   - 让盒子从普通流中浮起来,主要作用让多个块级盒子一行显示。改变元素标签默认的排列方式
3. **定位**

   - 将盒子定在浏览器的某一个位置——CSS 离不开定位，特别是后面的 js 特效。

* 准则
  * 多个块级元素纵向排列——标准流；多个块级元素横向排列——浮动
  * 先设置盒子大小，再设置盒子位置


### 浮动

* `float`属性用于创建浮动框，将其移动到一边，直到触及父元素左右边缘或另一个浮动框的边缘。

  * `float: 属性值;`

  | 属性值 | 描述                 |
  | :----- | :------------------- |
  | none   | 元素不浮动（默认值） |
  | left   | 元素向左浮动         |
  | right  | 元素向右浮动         |

> * 典型应用：让多个块级元素一行内无缝隙/自定义缝隙排列显示；浮动最早是用来控制图片，实现文字环绕图片效果。

> * 浮动元素会脱离标准流，漂浮在标准流上层，移动到指定位置(脱标)
> * 浮动元素会一行内显示并且按照属性值顶端对齐，能自动换行
> * 任何标签浮动后具有行内块特性

> * 浮动的元素不会保留原先的位置，会被后面的标准流占位
> * 浮动只会影响后面的标准流，不会影响前面的标准流，让位不抢位

* **浮动和标准流父盒子搭配布局**：先用标准流父元素排列上下位置，再内部子元素浮动排列左右位置
  * 一个元素浮动了，理论上兄弟元素也要设置浮动
  * 浮动元素不会撑开父元素盒子高度


* **清除浮动**：清除浮动后，父元素就会根据浮动的子元素自动检测高度；清除子元素浮动后对后面标准流的的影响
  
  * 原因：父盒子很多情况下，不方便给高度，但是子盒子浮动就不占有位置，最后父级盒子高度为0，就影响了下面的标准流盒子
  
  * 如果父盒子本身有高度，不需要清除浮动
  
  * `clear: 属性值`：清除浮动，几乎只用`clear: both;`
  
    | 属性值 | 描述                                       |
    | :----- | :----------------------------------------- |
    | left   | 不允许左侧有浮动元素（清除左侧浮动的影响） |
    | right  | 不允许右侧有浮动元素（清除右侧浮动的影响） |
    | both   | 同时清除左右两侧浮动的影响                 |
  
  * 方法：
  
    * 1. 额外标签法(隔墙法)，W3C推荐的做法
  
         * 在浮动元素最后添加一个空标签，必须是块级元素，div、br
  
         * `<div style="clear:both"></div>`
           - 缺点：添加许多无意义的标签，结构化较差。
  
    * 2. **父级`overflow`属性**：规定内容溢出元素框时发生的行为
         * 属性值：`overflow: hidden/auto`可实现清除浮动
           * 缺点：内容溢出剪裁隐藏
  
    * 3. **父级伪元素**：额外标签法的升级版，不用单独加标签
  
         * 定义伪类，为父级添加class
         * `<div class="box clearfix"></div>`
  
         * after伪类
  
           ```css
           .clearfix:after {
               content: "";
               display: block;
               height: 0;
               clear: both;
               visibility: hidden;
           }
           
           /* IE6、7 兼容 */
           .clearfix {
               *zoom: 1;
           }
           ```
  
         * 双伪类
  
           ```css
           .clearfix:before,
           .clearfix:after {
               content: "";
               display: table;
           }
           
           .clearfix:after {
               clear: both;
           }
           
           /* IE6、7 兼容 */
           .clearfix {
               *zoom: 1;
           }
           ```
  
           

